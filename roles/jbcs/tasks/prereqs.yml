---
- name: "Ensures required packages are installed"
  include_tasks: fastpackages/install.yml
  vars:
    packages_list:
      - procps-ng
      - mailcap
      - unzip
      - firewalld

- name: Install CA in shared truststore
  copy:
    src: "{{ item | basename }}"
    dest: /usr/share/pki/ca-trust-source/anchors/
    owner: root
    group: root
    mode: 0444    
  become: true
  when: install_trust_ca
  notify:
    - update_ca_trust
  with_fileglob:
    - "roles/jbcs/files/*.pem"

- name: "Ensure that firewalld service is running"
  systemd:
    name: firewalld
    enabled: yes
    state: started
